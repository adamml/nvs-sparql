<html>
  <head>
    <title>NVS SPARQL queries</title>
    <link href="bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="codemirror.css">
    <style type="text/css">
      body {
        padding-top: 60px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
    </style>    
	<script src="jquery.js"></script> 		
	<script src="bootstrap.min.js"></script>
	
	<script src="codemirror.js" type="text/javascript"></script> 		 				
	<script src="sparql.js"></script>    
  </head>
  <body>
  
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="brand" href="index.html">NVS SPARQL queries</a>
          <ul class="nav">
          			  	
		  	
		  </ul>
        </div>
      </div>
    </div>
    
   <div class="container-fluid" vocab="http://purl.org/dc/elements/1.1/">
      <div class="row-fluid">
        <div class="span12">
          <div class="row-fluid">          		
              <div id="query-viewer">              		             
					<h2 property="title">Federation demonstrator between the NERC Vocabulary Server and R2R</h2>
					
						<p property="description"><p>Demonstrates the use of federated SPARQL queries by pulling instrument
category labels from the NERC Vocabulary Server and instances of instruments
from the Rolling Dec to Repository (R2R) linked data server</p>
</p>
											
					<dl>					
					  <dt>Source File</dt>
					  <dd><code>federatedR2R.rq</code></dd>
					  
					  <dt>Author</dt>
					  <dd><span property="creator">Adam Leadbetter</span></dd>
					  
					  			  
					   
					  	<dt>Tag</dt>
					  	<dd>
					  	   <span property="subject">federated</span>
					  	</dd>
					  							  					  
					</dl>					
					<textarea id="sparql" cols="120" rows="50">PREFIX skos:<http://www.w3.org/2004/02/skos/core#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
SELECT ?nvsp ?rvl WHERE
{
  SERVICE <http://linked.rvdata.us/sparql>
  {
    ?rvs rdf:type ?nvs
    FILTER CONTAINS (str(?nvs),'vocab.nerc.ac.uk').
    ?rvs rdfs:label ?rvl
  }
  ?nvs skos:prefLabel ?nvsp
} ORDER BY lcase(str(?nvsp))</textarea>
					<script>
					  var editor = CodeMirror.fromTextArea(document.getElementById("sparql"), {
						    height: "250px",
						    width: "250px",
						    autofocus: false,
						    readOnly: true,
						    
						    parserfile: "parsesparql.js",
						    stylesheet: "/sparqlcolors.css",
						    path: "js/",
						    lineNumbers: true
						  });												
					</script>	
					
					<h3>Test This Query</h3>
					<p>Try this query against the following endpoints:</p>
					<ul>
					  
					    <li>
					      <a href="http://vocab.nerc.ac.uk/sparql/sparql?query=PREFIX+skos%3A%3Chttp%3A%2F%2Fwww.w3.org%2F2004%2F02%2Fskos%2Fcore%23%3E%0APREFIX+rdfs%3A+%3Chttp%3A%2F%2Fwww.w3.org%2F2000%2F01%2Frdf-schema%23%3E%0APREFIX+rdf%3A+%3Chttp%3A%2F%2Fwww.w3.org%2F1999%2F02%2F22-rdf-syntax-ns%23%3E%0ASELECT+%3Fnvsp+%3Frvl+WHERE%0A%7B%0A++SERVICE+%3Chttp%3A%2F%2Flinked.rvdata.us%2Fsparql%3E%0A++%7B%0A++++%3Frvs+rdf%3Atype+%3Fnvs%0A++++FILTER+CONTAINS+%28str%28%3Fnvs%29%2C%27vocab.nerc.ac.uk%27%29.%0A++++%3Frvs+rdfs%3Alabel+%3Frvl%0A++%7D%0A++%3Fnvs+skos%3AprefLabel+%3Fnvsp%0A%7D+ORDER+BY+lcase%28str%28%3Fnvsp%29%29" target="_blank">http://vocab.nerc.ac.uk/sparql/sparql</a>
					    </li>
					  
					</ul> 
					
              </div>
          </div><!--/row-->
        </div><!--/span-->
      </div><!--/row-->

	<hr>
	<footer class="footer">Generated with <a href="http://github.com/ldodds/sparql-doc">sparql-doc</a>.</footer>

</div>

  </body>	
</html>
    
   
