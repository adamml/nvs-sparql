<html>
  <head>
    <title>NVS SPARQL queries</title>
    <link href="bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="codemirror.css">
    <style type="text/css">
      body {
        padding-top: 60px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
    </style>    
	<script src="jquery.js"></script> 		
	<script src="bootstrap.min.js"></script>
	
	<script src="codemirror.js" type="text/javascript"></script> 		 				
	<script src="sparql.js"></script>    
  </head>
  <body>
  
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="brand" href="index.html">NVS SPARQL queries</a>
          <ul class="nav">
          			  	
		  	
		  </ul>
        </div>
      </div>
    </div>
    
   <div class="container-fluid" vocab="http://purl.org/dc/elements/1.1/">
      <div class="row-fluid">
        <div class="span12">
          <div class="row-fluid">          		
              <div id="query-viewer">              		             
					<h2 property="title">CEH discovery metadata keywords to NVS standardised keywords</h2>
					
						<p property="description"><p>A federated query which matches CEH discovery metadata keywords to
standard terms on the NERC Vovabulary Server. The query federates
against both the data endpoint, the CEH CAST endpoint and the NVS2.0 endpoint</p>
</p>
											
					<dl>					
					  <dt>Source File</dt>
					  <dd><code>cehDiscoveryMetadataToNVSKeyword.rq</code></dd>
					  
					  <dt>Author</dt>
					  <dd><span property="creator">Adam Leadbetter</span></dd>
					  
					  			  
					  							  					  
					</dl>					
					<textarea id="sparql" cols="120" rows="50">PREFIX skos:<http://www.w3.org/2004/02/skos/core#>
select ?a ?g where {?a ?b ?c
FILTER CONTAINS (str(?c),'onto.nerc.ac.uk').
service <http://onto.nerc.ac.uk/PoolParty/sparql/CAST>
{?c ?d ?e
FILTER CONTAINS (str(?e),'vocab.nerc.ac.uk')}.
service <http://vocab.nerc.ac.uk/sparql/sparql>{?e skos:prefLabel ?g}}</textarea>
					<script>
					  var editor = CodeMirror.fromTextArea(document.getElementById("sparql"), {
						    height: "250px",
						    width: "250px",
						    autofocus: false,
						    readOnly: true,
						    
						    parserfile: "parsesparql.js",
						    stylesheet: "/sparqlcolors.css",
						    path: "js/",
						    lineNumbers: true
						  });												
					</script>	
					
					<h3>Test This Query</h3>
					<p>Try this query against the following endpoints:</p>
					<ul>
					  
					    <li>
					      <a href="http://vocab.nerc.ac.uk/sparql/sparql?query=PREFIX+skos%3A%3Chttp%3A%2F%2Fwww.w3.org%2F2004%2F02%2Fskos%2Fcore%23%3E%0Aselect+%3Fa+%3Fg+where+%7B%3Fa+%3Fb+%3Fc%0AFILTER+CONTAINS+%28str%28%3Fc%29%2C%27onto.nerc.ac.uk%27%29.%0Aservice+%3Chttp%3A%2F%2Fonto.nerc.ac.uk%2FPoolParty%2Fsparql%2FCAST%3E%0A%7B%3Fc+%3Fd+%3Fe%0AFILTER+CONTAINS+%28str%28%3Fe%29%2C%27vocab.nerc.ac.uk%27%29%7D.%0Aservice+%3Chttp%3A%2F%2Fvocab.nerc.ac.uk%2Fsparql%2Fsparql%3E%7B%3Fe+skos%3AprefLabel+%3Fg%7D%7D" target="_blank">http://vocab.nerc.ac.uk/sparql/sparql</a>
					    </li>
					  
					</ul> 
					
              </div>
          </div><!--/row-->
        </div><!--/span-->
      </div><!--/row-->

	<hr>
	<footer class="footer">Generated with <a href="http://github.com/ldodds/sparql-doc">sparql-doc</a>.</footer>

</div>

  </body>	
</html>
    
   
